!function n(e,r,t){function i(a,c){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!c&&u)return u(a,!0);if(o)return o(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var d=r[a]={exports:{}};e[a][0].call(d.exports,function(n){var r=e[a][1][n];return i(r?r:n)},d,d.exports,n,e,r,t)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<t.length;a++)i(t[a]);return i}({1:[function(n,e,r){function t(){function n(n){return this.options.accessKey=n,this}function e(n){return this.options.version=n,this}function r(n){return n(this.options.version,this.options.accessKey)}return r.$inject=["baiduMapScriptLoader"],{$get:r,accessKey:n,version:e,options:{version:"2.0"}}}e.exports=t},{}],2:[function(n,e,r){function t(n,e){function r(n,r,t){function i(e,r){r.addEventListener("dragend",function(e,t){var i=r.getCenter();n.center=i,n.$apply()}),n.$watch("center",function(n,e){var t=new BMap.Point(n.lng,n.lat);r.panTo(t)},!0)}var o=r.children();angular.element(o[1]).css("display","none"),angular.element(o[0]).css({"min-height":"100px","min-width":"100px",height:"100%",width:"100%"}),n.$on("mapready",i),e.then(function(e){var r=new e.Map(o[0]),t=n.center,i=new e.Point(t.lng,t.lat);r.centerAndZoom(i,11),n.$broadcast("mapready",r)})}return{transclude:!0,template:["<div></div>","<div ng-transclude></div>"].join(""),scope:{center:"="},link:r}}t.$inject=["$q","baiduMapApi"],e.exports=t},{}],3:[function(n,e,r){function t(){function n(n,e){function r(r,t){console.log("put marker");var i=n.latlng.lng,o=n.latlng.lat,a=new BMap.Point(i,o),c=new BMap.Marker(a),u=new BMap.InfoWindow(e.html());t.addOverlay(c),c.addEventListener("click",function(){this.openInfoWindow(u)})}n.$on("mapready",r)}return{scope:{latlng:"="},link:n}}e.exports=t},{}],4:[function(n,e,r){function t(n){function e(n,e){var r=document.createElement("script"),i=["http://api.map.baidu.com/api?","v=",n,"&ak=",e,"&callback=",o].join("");return console.log(i),r.src=i,document.body.appendChild(r),t.promise}function r(){t.resolve(BMap),delete window[o]}var t=n.defer(),o=i();return window[o]=r,e}function i(){var n="_callback"+(Math.random()+1).toString(36).substring(2,5);return n}t.$inject=["$q"],e.exports=t},{}],5:[function(n,e,r){angular.module("ngBaiduMap",[]).factory("baiduMapScriptLoader",n("./src/script-loader-factory")).provider("baiduMapApi",n("./src/api-provider")).directive("baiduMap",n("./src/baidu-map-directive")).directive("marker",n("./src/marker-directive"))},{"./src/api-provider":1,"./src/baidu-map-directive":2,"./src/marker-directive":3,"./src/script-loader-factory":4}]},{},[5]);

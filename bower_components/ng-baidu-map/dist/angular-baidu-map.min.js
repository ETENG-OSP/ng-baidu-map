!function n(e,t,r){function i(a,c){if(!t[a]){if(!e[a]){var u="function"==typeof require&&require;if(!c&&u)return u(a,!0);if(o)return o(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var p=t[a]={exports:{}};e[a][0].call(p.exports,function(n){var t=e[a][1][n];return i(t?t:n)},p,p.exports,n,e,t,r)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(n,e,t){function r(){function n(n){return this.options.accessKey=n,this}function e(n){return this.options.version=n,this}function t(n){return n(this.options.version,this.options.accessKey)}return t.$inject=["baiduMapScriptLoader"],{$get:t,accessKey:n,version:e,options:{version:"2.0"}}}e.exports=r},{}],2:[function(n,e,t){function r(n,e){function t(n,t,r){function i(e,t){t.addEventListener("dragend",function(e,r){var i=t.getCenter();n.center=i,n.$apply()}),n.$watch("center",function(n,e){var r=new BMap.Point(n.lng,n.lat);t.panTo(r)},!0)}var o=t.children();t.css("display","block"),angular.element(o[1]).css("display","none"),angular.element(o[0]).css({"min-height":"100px","min-width":"100px",height:"100%",width:"100%"}),n.$on("mapready",i),e.then(function(e){var t=new e.Map(o[0]),r=n.center,i=new e.Point(r.lng,r.lat);t.centerAndZoom(i,11),n.$broadcast("mapready",t)})}return{transclude:!0,template:["<div></div>","<div ng-transclude></div>"].join(""),scope:{center:"="},link:t}}r.$inject=["$q","baiduMapApi"],e.exports=r},{}],3:[function(n,e,t){function r(){function n(n,e){function t(t,r){console.log("put marker");var i=n.latlng.lng,o=n.latlng.lat,a=new BMap.Point(i,o),c=new BMap.Marker(a),u=new BMap.InfoWindow(e.html());r.addOverlay(c),c.addEventListener("click",function(){this.openInfoWindow(u)}),n.$watch("latlng",function(n,e){var t=new BMap.Point(n.lng,n.lat);c.setPosition(t)},!0)}n.$on("mapready",t)}return{scope:{latlng:"="},link:n}}e.exports=r},{}],4:[function(n,e,t){function r(n){function e(n,e){var t=document.createElement("script"),i=["http://api.map.baidu.com/api?","v=",n,"&ak=",e,"&callback=",o].join("");return console.log(i),t.src=i,document.body.appendChild(t),r.promise}function t(){r.resolve(BMap),delete window[o]}var r=n.defer(),o=i();return window[o]=t,e}function i(){var n="_callback"+(Math.random()+1).toString(36).substring(2,5);return n}r.$inject=["$q"],e.exports=r},{}],5:[function(n,e,t){angular.module("ngBaiduMap",[]).factory("baiduMapScriptLoader",n("./src/script-loader-factory")).provider("baiduMapApi",n("./src/api-provider")).directive("baiduMap",n("./src/baidu-map-directive")).directive("marker",n("./src/marker-directive"))},{"./src/api-provider":1,"./src/baidu-map-directive":2,"./src/marker-directive":3,"./src/script-loader-factory":4}]},{},[5]);
